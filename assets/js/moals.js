var modalsaddroom=document.getElementById("myModals"),btnaddroom=document.getElementsByClassName("addRoom");for(y=0;y<btnaddroom.length;y++)btnaddroom[y].onclick=function(){modalsaddroom.style.display="block",document.getElementById("window-titles").innerHTML="เพิ่มข้อมูลห้อง";var e=document.getElementById("modals-body"),t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){e.innerHTML=this.responseText;var t=document.getElementById("FormAddRoom");for(z=0;z<t.elements.length;z++){var n=t.elements[z];"text"==n.type&&n.addEventListener("change",function(){saveRoom(this)})}}},t.open("GET","./buliding_room/addRoom.php?id="+this.getAttribute("data-prodid"),!0),t.send()};function popupmodals(e,t,n,s){document.getElementById("window-titles").innerHTML=e;var a=document.getElementById("modals-content");a.style.width=t+"px",a.style.height=n+"px",a.style.top=s+"px",modals.style.display="block",document.getElementById("modals-footer").style.display="none"}var ems,modals=document.getElementById("myModals");function FormAccept(e,t){popupmodals("รับฟอร์มคำร้องขอจัดสรรที่พักอาศัย",1200,1100,10);var n=new XMLHttpRequest,s=new FormData;s.append("RequestID",e),n.onreadystatechange=function(){4==this.readyState&&200==this.status&&(document.getElementById("modals-body").innerHTML=this.responseText,0==t&&(document.getElementById("formAccept").style.display="none"))},n.open("post","./form/FormAccept.php",!0),n.send(s)}function formacceptByStatus(e){document.getElementById("comment").style.display=3==e?"block":"none"}function formacceptBy(){var e=document.getElementById("statusform").options[document.getElementById("statusform").selectedIndex].value,t=document.getElementById("dt-comment").value,n=document.getElementById("RequestID").value,s=new XMLHttpRequest,a=new FormData;a.append("RequestID",n),a.append("Status",e),a.append("comment",t),residentlist=document.getElementById("residentlist").options[document.getElementById("residentlist").selectedIndex].value,s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;2==e?(popupalert(1,"สำเร็จ","ตรวจ/รับเอกสารแล้ว"),document.getElementById("myModals").style.display="none"):3==e?(popupalert(2,"สำเร็จ","ยกเลิกคำขอจัดสรรฯ"),document.getElementById("myModals").style.display="none"):popupalert(2,"ไม่สำเร็จ","มีข้อผิดพลาด")}},s.open("post","./form/FormAcceptBy.php",!0),s.send(a)}function closemodal(){document.getElementById("myModals").style.display="none"}function popupalert(e,t,n){var s=document.getElementById("alert1"),a=document.getElementById("icon");if(document.getElementById("msgt").innerHTML=t,document.getElementById("msgd").innerHTML=n,1==e)s.classList.add("alert-success"),a.classList.add("check","green"),s.classList.remove("alert-danger","alert-primary","alert-warning"),a.classList.remove("times-circle","red","exclamation","blue","warning","orangs"),tempAlert(document.getElementById("alertboxstatus1").innerHTML,5e3);else if(2==e){s.classList.add("alert-danger"),a.classList.add("times-circle","red"),s.classList.remove("alert-success","alert-primary","alert-warning"),a.classList.remove("check","green","exclamation","blue","warning","orangs"),tempAlert(document.getElementById("alertboxstatus1").innerHTML,5e3)}else if(3==e){s.classList.add("alert-warning"),a.classList.add("warning","orangs"),s.classList.remove("alert-success","alert-primary","alert-danger"),a.classList.remove("check","green","exclamation","blue","times-circle","red"),tempAlert(document.getElementById("alertboxstatus1").innerHTML,5e3)}else{s.classList.add("alert-primary"),a.classList.add("exclamation","blue"),s.classList.remove("alert-success","alert-danger","alert-warning"),a.classList.remove("check","green","times-circle","red","warning","orangs"),tempAlert(document.getElementById("alertboxstatus1").innerHTML,5e3)}}function tempAlert(e,t){var n=document.createElement("div");n.setAttribute("style","position:fixed;top:110px;right:20px;-webkit-animation-name: zoomsright;animation-name: zoomsright;animation: animateright .8s ease-in-out;z-index:1;"),n.setAttribute("id","xxx"),n.setAttribute("class","alerts"),n.innerHTML=e,ems=setTimeout(function(){n.parentNode.removeChild(n)},t),document.body.appendChild(n)}function alertclose(){document.getElementById("xxx").style.display="none"}document.getElementsByClassName("close")[0].onclick=function(){modals.style.display="none"};