function Orderbyexpenditure(e,t){var n=document.getElementById("lableexpenditure"),p=new XMLHttpRequest,d=new FormData;d.append("BulidingID",e),d.append("ExpTypeID",t),p.onreadystatechange=function(){4==this.readyState&&200==this.status&&(res=this.responseText,n.innerHTML=res,1==res&&(console.log(res),alert(1)))},p.open("POST","./expenditure/BuilIDbyTypeExID.php",!0),p.send(d)}function addExpenditure(e,t){t=1==t?"เพิ่มข้อมูลรายจ่าย":"แก้ไขข้อมูลรายจ่าย";popupmodals(t,500,603,100);var n=new FormData,p=new XMLHttpRequest;n.append("ExpID",e),p.onreadystatechange=function(){4==this.readyState&&200==this.status&&(data=this.responseText,document.getElementById("modals-body").innerHTML=this.responseText)},p.open("post","./expenditure/AddExpenditure.php",!0),p.send(n)}function selectorinput(e=0,t=0){if(1!=t)document.getElementById("lablePayFor").innerHTML='<input type="text" name="lablePayFor" id="lablePayFor" placeholder="ชื่อ-นามสกุล" />';else{var n=document.getElementById("lablePayFor"),p=new FormData;p.append("BuildingID",e);var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&200==this.status&&(n.innerHTML=this.responseText)},d.open("post","./expenditure/BuildingbyPayFor.php",!0),d.send(p)}}function selectors(e=0){var t=document.getElementById("lableExType"),n=new FormData;n.append("BuildingID",e);var p=new XMLHttpRequest;p.onreadystatechange=function(){4==this.readyState&&200==this.status&&(t.innerHTML=this.responseText,selectorinput(e))},p.open("post","./expenditure/BuildingType.php",!0),p.send(n)}function vailfromEx(){var e=document.Frmex;return 0==chvailable("ExpTypeIDs")?(popupalert(3,"เช็คข้อมูล","กรอกข้อมูลไม่ครบตามแบบฟอร์ม"),e.ExpTypeIDs.focus(),!1):""!=chvailable("Amount")||(popupalert(3,"เช็คข้อมูล","กรอกข้อมูลไม่ครบตามแบบฟอร์ม"),e.Amount.focus(),!1)}SaveAddexpenditure=((e=0)=>{for(var t,n=document.getElementById("Frmex").elements,p=document.getElementById("BuildingIDs").options[document.getElementById("BuildingIDs").selectedIndex].value,d=document.getElementById("ExpTypeIDs").options[document.getElementById("ExpTypeIDs").selectedIndex].value,s=new XMLHttpRequest,a=new FormData,o=0;t=n[o++];)a.append(t.name,t.value);return s.onreadystatechange=function(){4==this.readyState&&200==this.status&&(res=this.responseText,0==e?popupalert(3,"เช็คข้อมูล","กรอกข้อมูลไม่ครบตามแบบฟอร์ม"):1==res?(document.getElementById("myModals").style="display:none;",popupalert(1,"สำเร็จ","บันทึกข้อมูลรายจ่ายเรียบร้อย"),Orderbyexpenditure(p,d)):(popupalert(4,"ข้อมูลซ้ำ","มีข้อมูลนี้อยู่ในระบบแล้ว"),console.log(res)))},s.open("POST","./expenditure/SaveExpenditure.php",!0),s.send(a),!1}),UpDateAddexpenditure=((e,t=0)=>{for(var n,p=document.getElementById("Frmex").elements,d=document.getElementById("BuildingIDs").options[document.getElementById("BuildingIDs").selectedIndex].value,s=document.getElementById("ExpTypeIDs").options[document.getElementById("ExpTypeIDs").selectedIndex].value,a=new XMLHttpRequest,o=new FormData,r=0;n=p[r++];)o.append(n.name,n.value);return o.append("ExpID",e),a.onreadystatechange=function(){4==this.readyState&&200==this.status&&(res=this.responseText,0==t?popupalert(3,"เช็คข้อมูล","กรอกข้อมูลไม่ครบตามแบบฟอร์ม"):1==res?(document.getElementById("myModals").style="display:none;",popupalert(1,"สำเร็จ","ปรับปรุงข้อมูลรายจ่ายเรียบร้อย"),Orderbyexpenditure(d,s)):(popupalert(2,"ผิดพลาด","เกิดข้อผิดในระหว่างปรับปรุงข้อมูลรายจ่าย!"),console.log(res)))},a.open("POST","./expenditure/UpDateExpenditure.php",!0),a.send(o),!1});