function onfileselect(e){if(""!=e.target.value){var t=e.target.files[0],n=new FormData,l=document.getElementById("monthly").value,d=document.getElementById("yearly").value,a=document.getElementById("btn_Revenue");n.append("file",t,t.name),n.append("monthly",l),n.append("yearly",d);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText.split(String.fromCharCode(5));a.innerHTML=e[0],lablerevenue_ex.innerHTML=e[1]}},s.open("POST","./revenue/uploadfilerevenue.php",!0),s.send(n)}}function OrderByRevenue(){var e=document.getElementById("monthly").options[document.getElementById("monthly").selectedIndex].value,t=document.getElementById("yearly").options[document.getElementById("yearly").selectedIndex].value,n=document.getElementById("lablerevenue_ex"),l=new FormData;l.append("monthly",e),l.append("yearly",t);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;n.innerHTML=e}},d.open("POST","./revenue/OrderByRevenue.php",!0),d.send(l)}function saveRevenue(){var e=document.getElementById("data_monthlycharge").value,t=document.getElementById("monthly").options[document.getElementById("monthly").selectedIndex].value,n=document.getElementById("yearly").options[document.getElementById("yearly").selectedIndex].value,l=new XMLHttpRequest,d=new FormData;d.append("monthlycharge",e),d.append("monthly",t),d.append("yearly",n);var a=document.getElementById("progress");l.onreadystatechange=function(){if(4==this.readyState&&200==this.status)1==(e=this.responseText.split(":"))[0]&&(a.style.display="block",a.childNodes[0].style.display="block",a.childNodes[0].innerHTML=e[e.length-1]+"%",a.childNodes[1].style.width=e[e.length-1]+"%",popupalert(1,"สำเร็จ","การอัพโหลดข้อมูล"),OrderByRevenue());else if(this.readyState>2){var e;1==(e=this.responseText.split(":"))[0]&&(a.style.display="block",a.childNodes[0].style.display="block",a.childNodes[0].innerHTML=e[e.length-1]+"%",a.childNodes[1].style.width=e[e.length-1]+"%")}console.log(this.status)},l.open("POST","./revenue/SaveRevenue.php"),l.send(d)}OrderByRevenue();